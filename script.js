let ticking=!1;const observerOptions={threshold:.1,rootMargin:"0px 0px -50px 0px"},observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("visible")})},observerOptions);function initSmoothScrolling(){document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();let t=document.querySelector(this.getAttribute("href"));t&&t.scrollIntoView({behavior:"smooth",block:"start"})})})}function animateCounter(e,t,n=2e3){let o=0,a=t/(n/16),r=setInterval(()=>{(o+=a)>=t?(e.textContent=t.toLocaleString()+"+",clearInterval(r)):e.textContent=Math.floor(o).toLocaleString()+"+"},16)}function initCounterAnimations(){let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!e.target.dataset.animated&&(e.target.dataset.animated="true",e.target.textContent.includes("12,000")?animateCounter(e.target,12e3):e.target.textContent.includes("5,000")&&animateCounter(e.target,5e3))})});document.querySelectorAll(".footer-stat-value:not([data-animated])").forEach(t=>{(t.textContent.includes("12,000")||t.textContent.includes("5,000"))&&e.observe(t)})}function openSampleModal(){let e=document.getElementById("sampleModal"),t=window.innerWidth-document.documentElement.clientWidth;document.body.style.paddingRight=t+"px",document.body.style.overflow="hidden",e.classList.add("active")}function closeSampleModal(e){(!e||e.target===e.currentTarget||e.target.closest('[onclick="closeSampleModal()"]'))&&(document.getElementById("sampleModal").classList.remove("active"),document.body.style.paddingRight="",document.body.style.overflow="")}function handleSampleSubmit(e){e.preventDefault();let t=e.target,n=t.parentName.value,o=t.parentEmail.value,a=t.querySelector('button[type="submit"]'),r=a.innerHTML;a.innerHTML="\uD83D\uDD04 Sending...",a.disabled=!0;fetch("https://n8ndroplet.yesintelligent.com/webhook/ab9cf5b8-9ec2-4741-99a4-5f85e2158216",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:o,type:"sample_request",timestamp:new Date().toISOString(),source:"kids_worksheets_landing_page"})}).then(e=>{if(!e.ok)throw Error("Network response was not ok");a.innerHTML="âœ… Success! Check Your Email",a.style.background="linear-gradient(90deg, #22c55e, #16a34a)",setTimeout(()=>{alert(`ðŸŽ‰ SUCCESS!

Hi ${n}!

Your FREE sample worksheets are on their way to ${o}!

Check your inbox in the next few minutes (don't forget to check spam folder).`),closeSampleModal(),setTimeout(()=>{t.reset(),a.innerHTML=r,a.disabled=!1,a.style.background=""},500)},1e3)}).catch(e=>{console.error("Error submitting form:",e),a.innerHTML="âŒ Error - Please Try Again",a.style.background="linear-gradient(90deg, #ef4444, #dc2626)",setTimeout(()=>{a.innerHTML=r,a.disabled=!1,a.style.background=""},3e3),alert("âš ï¸ Something went wrong! Please check your internet connection and try again.")})}function openPrivacyModal(){document.getElementById("privacyModal").classList.add("active"),document.body.style.overflow="hidden"}function closePrivacyModal(){document.getElementById("privacyModal").classList.remove("active"),document.body.style.overflow=""}function openTermsModal(){document.getElementById("termsModal").classList.add("active"),document.body.style.overflow="hidden"}function closeTermsModal(){document.getElementById("termsModal").classList.remove("active"),document.body.style.overflow=""}function openRefundModal(){document.getElementById("refundModal").classList.add("active"),document.body.style.overflow="hidden"}function closeRefundModal(){document.getElementById("refundModal").classList.remove("active"),document.body.style.overflow=""}function handlePurchaseClick(){try{"undefined"!=typeof gtag&&gtag("event","purchase_click",{event_category:"engagement",event_label:"footer_cta_button"}),window.open("https://yesintelligent.gumroad.com/l/kids-activity-kit","_blank")}catch(e){console.error("Error handling purchase click:",e),window.location.href="https://yesintelligent.gumroad.com/l/kids-activity-kit"}}function handleContactSubmit(e){e.preventDefault();let t=e.target,n=t.contactName.value,o=t.contactEmail.value,a=t.contactMessage.value,r=t.querySelector('button[type="submit"]'),i=r.innerHTML;r.innerHTML="\uD83D\uDD04 Sending...",r.disabled=!0;fetch("https://n8ndroplet.yesintelligent.com/webhook/99f7be89-af8d-48ab-9f59-1812bfaca3e3",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:n,email:o,message:a,type:"contact_form",timestamp:new Date().toISOString(),source:"kids_worksheets_landing_page"})}).then(e=>{if(!e.ok)throw Error("Network response was not ok");r.innerHTML="âœ… Message Sent!",t.reset(),setTimeout(()=>{r.innerHTML=i,r.disabled=!1},3e3)}).catch(e=>{console.error("Error:",e),r.innerHTML=i,r.disabled=!1,alert("There was an error sending your message. Please try again or contact us directly.")})}document.addEventListener("DOMContentLoaded",()=>{document.querySelectorAll(".observer-element").forEach(e=>observer.observe(e)),initSmoothScrolling(),initCounterAnimations()}),document.addEventListener("keydown",e=>{"Escape"===e.key&&(closeSampleModal(),closePrivacyModal(),closeTermsModal(),closeRefundModal())});